{"version":3,"sources":["webpack:///webpack/bootstrap fc8dc4910a7040c128b8","webpack:///./src/Util.js","webpack:///./src/layer/TiledMapLayer.js","webpack:///./package.json","webpack:///./src/SuperMapLeaflet.js","webpack:///external \"L\""],"names":["resolutionToScale","scaleToResolution","getMeterPerMapUnit","resolution","dpi","mapUnit","inchPerMeter","meterPerMapUnit","scale","meterPerMapUnitValue","earthRadiusInMeters","Math","PI","SuperMapUtil","TiledMapLayer","extend","options","token","layersID","redirect","transparent","cacheEnabled","prjCoordSys","overlapDisplayed","overlapDisplayedOptions","tileversion","attribution","initialize","url","_url","prototype","apply","arguments","setOptions","stamp","onAdd","map","_initLayerUrl","call","getTileUrl","coords","_getScaleFromCoords","tileUrl","_layerUrl","x","y","setScales","scales","getScale","zoom","me","z","_map","getZoom","_getDefaultScale","crs","resolutions","tileBounds","_tileCoordsToBounds","ne","project","getNorthEast","sw","getSouthWest","tileSize","max","abs","code","array","split","length","parseInt","layerUrl","_initAllRequestParams","join","params","push","JSON","stringify","projection","bounds","tileOrigin","L","point","min","toString","tiledMapLayer","Util","version","window","supermap","exports"],"mappings":"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","file":"SuperMapLeaflet.debug.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fc8dc4910a7040c128b8","/**\r\n *SuperMap Leaflet Util class\r\n */\r\n\r\n//transform resolution to  scale.\r\nexport function resolutionToScale(resolution, dpi, mapUnit) {\r\n    var inchPerMeter = 1 / 0.0254;\r\n    // radius of earth\r\n    var meterPerMapUnit = getMeterPerMapUnit(mapUnit);\r\n    var scale = resolution * dpi * inchPerMeter * meterPerMapUnit;\r\n    scale = 1 / scale;\r\n    return scale;\r\n}\r\n\r\n//transform scale to resolution.\r\nexport function scaleToResolution(scale, dpi, mapUnit) {\r\n    var inchPerMeter = 1 / 0.0254;\r\n    var meterPerMapUnitValue = getMeterPerMapUnit(mapUnit);\r\n    var resolution = scale * dpi * inchPerMeter * meterPerMapUnitValue;\r\n    resolution = 1 / resolution;\r\n    return resolution;\r\n}\r\n\r\n//mapUnit options <\"METER\", \"DEGREE\",\"KILOMETER\",\"INCH\",\"FOOT\">\r\nexport function getMeterPerMapUnit(mapUnit) {\r\n    var earthRadiusInMeters = 6378137;\r\n    var meterPerMapUnit;\r\n    if (mapUnit === \"METER\") {\r\n        meterPerMapUnit = 1;\r\n    } else if (mapUnit === \"DEGREE\") {\r\n        meterPerMapUnit = Math.PI * 2 * earthRadiusInMeters / 360;\r\n    } else if (mapUnit === \"KILOMETER\") {\r\n        meterPerMapUnit = 1.0E-3;\r\n    } else if (mapUnit === \"INCH\") {\r\n        meterPerMapUnit = 1 / 2.5399999918E-2;\r\n    } else if (mapUnit === \"FOOT\") {\r\n        meterPerMapUnit = 0.3048;\r\n    }\r\n    return meterPerMapUnit;\r\n}\r\n\r\nexport var SuperMapUtil = {\r\n    resolutionToScale: resolutionToScale,\r\n    scaleToResolution: scaleToResolution,\r\n    getMeterPerMapUnit: getMeterPerMapUnit\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/Util.js","/**\r\n * Class: TiledMapLayer\r\n * For SuperMap iServer REST map service (since SuperMap iServer Java 6R).Get tiles from tileImage resource\r\n * UseAge:\r\n *    L.supermap.tiledMapLayer(\"http://<server>:<port>/iserver/services/<serviceName>/rest/maps/<mapName>\").addTo(map);\r\n */\r\nimport {TileLayer, Util} from \"leaflet\";\r\nimport {SuperMapUtil} from \"../Util\";\r\nexport var TiledMapLayer = TileLayer.extend({\r\n\r\n    options: {\r\n        //@option token\r\n        //token of the map service\r\n        token: null,\r\n        //@option layersID\r\n        //If not empty, mean use thematic map\r\n        layersID: null,\r\n        //@option redirect\r\n        //If true , it will direct to the image's real url address;\r\n        //If false，it will be byte stream in response\r\n        redirect: false,\r\n        //@option transparent\r\n        //If true ,response image will be transparent\r\n        transparent: null,\r\n        //@option cacheEnabled\r\n        //Whether to use the server cache\r\n        cacheEnabled: null,\r\n        //@option prjCoordSys\r\n        //Map's projection coordinate system. e.g.: {\"epsgCode\":3857}\r\n        prjCoordSys: null,\r\n        //@option overlapDisplayed\r\n        //Whether the map objects are overlap display in the same range\r\n        overlapDisplayed: true,\r\n        //@option overlapDisplayedOptions\r\n        //Overlap display filter options,valid only if 'overlapDisplayed' is false.\r\n        overlapDisplayedOptions: null,\r\n        //tile set version,valid only if 'cacheEnabled' is true.\r\n        tileversion: null,\r\n\r\n        attribution: 'Powered by <a href=\"http://www.supermap.com\">SuperMap</a> | Map Data <a href=\"http://support.supermap.com.cn/product/iServer.aspx\">SuperMap iServer</a>'\r\n    },\r\n\r\n    initialize: function (url, options) {\r\n        this.url = this._url = url;\r\n        TileLayer.prototype.initialize.apply(this, arguments);\r\n        Util.setOptions(this, options);\r\n        Util.stamp(this);\r\n    },\r\n\r\n    onAdd: function (map) {\r\n        this._initLayerUrl();\r\n        TileLayer.prototype.onAdd.call(this, map);\r\n    },\r\n\r\n    //Override TileLayer methods\r\n    getTileUrl: function (coords) {\r\n        let scale = this._getScaleFromCoords(coords);\r\n        let tileUrl = this._layerUrl + \"&scale=\" + scale + \"&x=\" + coords.x + \"&y=\" + coords.y;\r\n        return tileUrl;\r\n    },\r\n\r\n    //Set fixed scale before add to map\r\n    setScales: function (scales) {\r\n        this.scales = scales || this.scales;\r\n    },\r\n\r\n    //Get scale by zoom\r\n    getScale: function (zoom) {\r\n        let me = this;\r\n        let z = zoom || me._map.getZoom();\r\n        return me.scales[z];\r\n    },\r\n\r\n    _getScaleFromCoords: function (coords) {\r\n        let me = this, scale;\r\n        if (me.scales && me.scales[coords.z]) {\r\n            return me.scales[coords.z];\r\n        }\r\n        me.scales = me.scales || {};\r\n        scale = me._getDefaultScale(coords);\r\n        me.scales[coords.z] = scale;\r\n        return scale;\r\n    },\r\n\r\n    _getDefaultScale: function (coords) {\r\n        let me = this, crs = me._map.options.crs;\r\n        let resolution;\r\n        if (crs.options && crs.options.resolutions) {\r\n            resolution = crs.options.resolutions[coords.z];\r\n        } else {\r\n            let tileBounds = me._tileCoordsToBounds(coords);\r\n            let ne = crs.project(tileBounds.getNorthEast());\r\n            let sw = crs.project(tileBounds.getSouthWest());\r\n            let tileSize = me.options.tileSize;\r\n            resolution = Math.max(\r\n                Math.abs(ne.x - sw.x) / tileSize,\r\n                Math.abs(ne.y - sw.y) / tileSize\r\n            );\r\n        }\r\n\r\n        let mapUnit = \"METER\";\r\n        if (crs.code) {\r\n            let array = crs.code.split(':');\r\n            if (array && array.length > 1) {\r\n                let code = parseInt(array[1]);\r\n                mapUnit = code && code >= 4000 && code <= 5000 ? \"DEGREE\" : \"METER\";\r\n            }\r\n        }\r\n        return SuperMapUtil.resolutionToScale(resolution, 96, mapUnit);\r\n    },\r\n\r\n    _initLayerUrl: function () {\r\n        let me = this;\r\n        let layerUrl = me.url + \"/tileImage.png?\";\r\n        layerUrl += me._initAllRequestParams().join('&');\r\n        this._layerUrl = layerUrl;\r\n    },\r\n\r\n    _initAllRequestParams: function () {\r\n        let me = this, options = me.options || {}, params = [];\r\n\r\n        let tileSize = this.options.tileSize;\r\n        params.push(\"width=\" + tileSize);\r\n        params.push(\"height=\" + tileSize);\r\n\r\n        let redirect = (options.redirect === true) ? options.redirect : false;\r\n        params.push(\"redirect=\" + redirect);\r\n\r\n        let transparent = (options.transparent === true) ? options.transparent : false;\r\n        params.push(\"transparent=\" + transparent);\r\n\r\n        let cacheEnabled = (options.cacheEnabled === false) ? options.cacheEnabled : true;\r\n        params.push(\"cacheEnabled=\" + cacheEnabled);\r\n\r\n        if (options.prjCoordSys) {\r\n            params.push(\"prjCoordSys=\" + JSON.stringify(options.prjCoordSys));\r\n        }\r\n\r\n        if (options.token) {\r\n            params.push(\"token=\" + options.token);\r\n        }\r\n\r\n        if (options.layersID) {\r\n            params.push(\"layersID=\" + options.layersID);\r\n        }\r\n\r\n        //The starting reference point of the tile, which defaults to the top left corner of the map range.\r\n        let crs = me._map.options.crs;\r\n        if (crs.projection && crs.projection.bounds) {\r\n            let bounds = crs.projection.bounds;\r\n            let tileOrigin = L.point(bounds.min.x, bounds.max.y);\r\n            params.push(\"origin={\\\"x\\\":\" + tileOrigin.x + \",\" + \"\\\"y\\\":\" + tileOrigin.y + \"}\");\r\n        }\r\n\r\n        if (options.overlapDisplayed === false) {\r\n            params.push(\"overlapDisplayed=false\");\r\n            if (options.overlapDisplayedOptions) {\r\n                params.push(\"overlapDisplayedOptions=\" + me.overlapDisplayedOptions.toString());\r\n            }\r\n        } else {\r\n            params.push(\"overlapDisplayed=true\");\r\n        }\r\n\r\n        if (options.cacheEnabled === true && options.tileversion) {\r\n            params.push(\"tileversion=\" + options.tileversion)\r\n        }\r\n\r\n        return params;\r\n    },\r\n});\r\n\r\nexport var tiledMapLayer = function (url, options) {\r\n    return new TiledMapLayer(url, options);\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/layer/TiledMapLayer.js","module.exports = {\n\t\"name\": \"supermap-leaflet\",\n\t\"version\": \"0.0.1-beta\",\n\t\"description\": \"A Leafle plugins for working with  SuperMap service types. Requires Leaflet v1.0.0 or later.\",\n\t\"main\": \"/dist/SuperMapLeaflet.js\",\n\t\"scripts\": {\n\t\t\"release\": \"webpack && npm run compress\",\n\t\t\"compress\": \"uglifyjs --comments /Copyright©/i  ./dist/SuperMapLeaflet.debug.js  -c -m -o ./dist/SuperMapLeaflet.js\",\n\t\t\"build\": \"webpack\",\n\t\t\"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n\t},\n\t\"repository\": {\n\t\t\"type\": \"git\",\n\t\t\"url\": \"https://github.com/SuperMap/supermap-leaflet.git\"\n\t},\n\t\"homepage\": \"https://github.com/SuperMap/supermap-leaflet#readme\",\n\t\"keywords\": [\n\t\t\"SuperMap\",\n\t\t\"Leaflet\",\n\t\t\"SuperMap-Leaflet\",\n\t\t\"leaflet plugin\"\n\t],\n\t\"author\": \"SuperMap\",\n\t\"license\": \"Apache-2.0\",\n\t\"dependencies\": {\n\t\t\"leaflet\": \"1.1.0\"\n\t},\n\t\"devDependencies\": {\n\t\t\"babel-core\": \"^6.24.1\",\n\t\t\"babel-loader\": \"^7.0.0\",\n\t\t\"babel-preset-es2015\": \"^6.24.1\",\n\t\t\"webpack\": \"^2.4.1\",\n\t\t\"json-loader\": \"^0.5.4\",\n\t\t\"uglify-js\": \"^3.0.15\"\n\t}\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./package.json\n// module id = 2\n// module chunks = 0","//export version\r\nimport {version} from '../package.json';\r\nexport {version}\r\n\r\n//export core\r\nexport {Util} from './Util';\r\n\r\n//export mappings\r\nexport {TiledMapLayer, tiledMapLayer} from './layer/TiledMapLayer';\r\n\r\n\r\nwindow.L.supermap = exports;\n\n\n// WEBPACK FOOTER //\n// ./src/SuperMapLeaflet.js","module.exports = L;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"L\"\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}